<html>
	<head>
		<link rel="stylesheet" type="text/css" href="/assets/css/main.css">
		<link href="https://fonts.googleapis.com/css2?family=Recursive&display=swap" rel="stylesheet">
		<script src="/socket.io/socket.io.js"></script>
		<script src="/assets/js/main.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/js/all.min.js"></script>
		<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
		<title>Real-time chat application using socket.io</title>
	</head>
	<body>
		<div id="header">
			<span id="menu"><i class="fas fa-chevron-down fa-2x" onclick="toggleMenu();"></i></span>
			<h2>Chat Application</h2>
		</div>
		<nav id="nav">
			<span onclick="openUsername();">Change Username</span>
			</br></br>
			<span onclick="openPrivacy();">Privacy Policy</span>
			</br></br>
			<a href="https://github.com/therealsujitk/socketio-chat-app/issues" target="_blank">Open Issue</a>
			</br></br>
			<span onclick="openAbout();">About</span>
		</nav>
		<table id="chat-interface">
			<tr>
				<th id="users-header">Online Users</th>
				<th id="chat-header">@everyone</th>
			</tr>
			<tr>
				<td id="users">
					<div id="user-list" style="height: 60vh; height: var(--cih);overflow-x: hidden; overflow-y: auto;">
						<div id="user-everyone" class="user" style="background: #121212; color: #808080;" onclick="switchInterface(this.id); selectedUser = this.id.slice(5);">@everyone</div>
					</div>
				</td>
				<td id="chat">
					<div id="messages-everyone" class="messages" style="display: block;"></div>
					<div id="chat-footer">
						<input id="chat-box" placeholder="Write your message..." autocomplete="off" onkeyup="enterSend(event);"></input>
						<input id="send" type="button" value="Send" onclick="sendMessage();"></input>
					</div>
				</td>
			</tr>
		</table>
		<div id="menu-background" onclick="toggleMenu();"></div>
		<div id="modal-background" onclick="closeAll();"></div>
		<div id="username-modal" class="modal show-modal">
			<table cellpadding="0" cellspacing="0" style="width: 100%;">
				<td class="header2" style="text-align: left;">Your Details</td>
				<td style="text-align: right;"><i class="header link fas fa-times" onclick="closeAll()"></i></td>
			</table>
			<table cellpadding="0" cellspacing="0" style="width: 100%; padding-top: 20px;">
				<td style="color: #808080;">Username:</td>
				<td><input id="username" class="text-box" type="text" autocomplete="off" spellcheck="false" onkeyup="enterUser(event);"></input></td>
			</table>
			<input id="save-user" class="btn" type="button" style="margin-top: 10px;" value="Save" onclick="newUser();"></input>
		</div>
		<div id="privacy-modal" class="modal">
			<table cellpadding="0" cellspacing="0" style="width: 100%;">
				<td class="header2" style="text-align: left;">Privacy Policy</td>
				<td style="text-align: right;"><i class="header link fas fa-times" onclick="closeAll()"></i></td>
			</table>
			<p>No data entered here is stored anywhere. All chat history between any two users is completely erased as soon as either user disconnects.</p>
		</div>
		<div id="about-modal" class="modal">
			<table cellpadding="0" cellspacing="0" style="width: 100%;">
				<td class="header2" style="text-align: left;">About</td>
				<td style="text-align: right;"><i class="header link fas fa-times" onclick="closeAll()"></i></td>
			</table>
			<p>Built by: <a style="color: #fff;" href="https://therealsuji.tk" target="_blank">@therealsujitk</a>.</p>
			<p style="padding-bottom: 10px;">This is an open-source project I built for research purpose. Feel free to fork it on <a style="color: #fff;" href="https://github.com/therealsujitk/socketio-chat-app" target="_blank">GitHub</a>.</p>
			<span id="version">v1.0.1</span>
		</div>
		<script>setIndex();</script>
	</body>
</html>
